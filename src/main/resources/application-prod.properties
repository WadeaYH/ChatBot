# =========
# PROD PROFILE
# =========

# PostgreSQL (prod) - use env vars in Docker/Server
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false

# MongoDB (prod)
spring.data.mongodb.uri=${SPRING_DATA_MONGODB_URI}

# JWT (prod)
app.security.jwt.secret=${APP_JWT_SECRET}
app.security.jwt.expiration-ms=3600000

# SIS in prod (switch to http when real SIS is available)
app.sis.mode=${APP_SIS_MODE:http}
app.sis.base-url=${APP_SIS_BASE_URL:http://sis.example}
app.sis.auth-path=${APP_SIS_AUTH_PATH:/api/auth/login}
app.sis.timeout-ms=${APP_SIS_TIMEOUT_MS:15000}
app.sis.mock.enabled=false

# Admin seeding (recommended OFF in prod)
app.admin.seed.enabled=false

# CORS (replace with your real frontend)
app.security.cors.allowed-origins=${APP_CORS_ORIGINS:https://your-frontend.com}

# Audit (keep ON)
app.audit.enabled=true

# Rate limiting (keep ON)
app.rate-limit.enabled=true
app.rate-limit.window-seconds=60
app.rate-limit.max-requests=120
app.rate-limit.scope=ip

# Mongo indexes
app.mongo.ensure-indexes=true
spring.data.mongodb.auto-index-creation=true

# Refresh tokens
app.security.refresh.enabled=true
app.security.refresh.ttl-days=30
app.security.refresh.max-active-per-user=5
app.security.refresh.cleanup.enabled=true
app.security.refresh.cleanup.cron=0 15 4 * * *
